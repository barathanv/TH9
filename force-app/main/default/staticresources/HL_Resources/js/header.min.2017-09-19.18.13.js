function LeftNavViewModel(){function a(){return $("#toggleSearch").is(":visible")}this.level="";var b="hasChildren",c="active",d="backBtn",e="tercero-desktop",f=!1,g=null,h=null;this.menuClass=!1,this.onClick=function(a){var c=$(a.target).closest("li")[0];if(c){var e=c.className;e.indexOf(b)!==-1&&this.goInside(c,a),e.indexOf(d)!==-1&&this.goBack(c,a)}},this.goInside=function(a,b){var d,f="";if(HL.Util.Browser.dimensions.Width()>=1040)"mainSideNav"!==a.parentElement.parentElement.id&&b.preventDefault(),0!==$(a).parents(".second").length&&($(a.parentNode.parentNode).height($(a.parentNode).outerHeight()),a.parentNode.classList.add(e),a.classList.add(c),d=$("ul",a).outerHeight()+$("ul",a).position().top,d>$(a.parentNode.parentNode).height()&&$(a.parentNode.parentNode).height(d));else{switch(b.preventDefault(),f=this.get("level"),a.classList.add(c),f){case"":this.set("level","level1");break;case"level1":this.set("level","level2"),a.parentNode.classList.add(e)}$(a).find(".second > li > a").each(function(){$(this).height()>61&&$(this).addClass("double-line")}),setTimeout(function(){$(a).siblings().addClass("hideSiblings")},300)}},this.goBack=function(a,b){var d="";if(b.preventDefault(),$("."+e).removeClass(e),a.parentNode.parentNode.classList.remove(c),HL.Util.Browser.dimensions.Width()>=1040)$(a.parentNode.parentNode.parentNode.parentNode).css("height","");else{switch($(a.parentNode.parentNode).siblings().removeClass("hideSiblings"),d=this.get("level")){case"level1":this.set("level","");break;case"level2":this.set("level","level1")}$(".double-line").removeClass("double-line"),a.parentNode.parentNode.classList.remove(c)}},this.openNav=function(){a()?this.set("menuClass",!0):this.set("menuClass",!this.get("menuClass"))},this.closeNav=function(){this.set("menuClass",!1)},this.mainHover=function(){a()||this.get("menuClass")&&this.set("menuClass",!1)},this.onHover=function(b){if(!a()){var c=$(b.currentTarget);f||c.hasClass("open")?g=c:(h=c,c.addClass("open"))}},this.onHoverOut=function(b){a()||h&&0===$(b.toElement).closest("li").closest(h[0]).length&&(f=!0,g=null,setTimeout(function(){f=!1,h&&h.removeClass("open"),g&&g.addClass("open"),h=g},300))}}function loadTourScript(a,b){var c=document.createElement("script");c.type="text/javascript",c.src=a,c.onreadystatechange=b,c.onload=b,document.head.appendChild(c)}function InboxViewModel2(a){this.path=(a?a:"")+"/Notifications/api/v1/notification/messages/envelopecount",this.AlertCount="0",this.EnvelopeClass="dsInboxEmpt",this.dataHandler=function(a){if(null!==a){var b=a;b>0&&(this.set("EnvelopeClass","dsInboxBubble"),this.set("AlertCount",b>9?"9+":b))}},this.isVisible=function(){var a=this.get("AlertCount");return 0!==a}}function AlertsViewModel2(a){var b=0,c="ds_alerts_container_collapsed_status";this.path=(a?a:"/")+"Notifications/api/v1/notification/messages/getsystemnotifications",this.BannerAlerts=[],this.CurrentAlert={},this.UpDownClass="up",this.ContainerPadding="5px",this.Collapsed=!1,this.NotificationColors={1:"#F7DBCC",2:"#DAE8AF",3:"#FAE4B2"},this.onBeforeLoad=function(){if(void 0!==sessionStorage){var a=sessionStorage.getItem(c);a&&a===!0&&this.set("Collapsed",!0)}},this.dataHandler=function(a){if(a){for(var c=[],d=f(),e=[],g=0;g<a.length;g++){$.inArray("/home/default1.aspx",a[g].ValidPages)>-1&&(a[g].ValidPages.push("/home/default.aspx"),a[g].ValidPages.push("/home/default")),e=a[g].ValidPages;for(var h=0;h<e.length;h++){var i=e[h];i=i.replace(/\*/g,".*"),new RegExp("^"+i+"$","gi").test(d)&&c.push(a[g])}}var j=a[b];if(c&&c.length>0){var k=this.get("NotificationColors");$.each(c,function(a,b){b.NotificationColor=k[b.BannerTypeId],b.CollapseClass=b.CanCollapse?"upDownArrows icon-chevron-down":""})}this.set("BannerAlerts",c),this.set("CurrentAlert",j)}},this.getBannerType=function(){var a=this.get("CurrentAlert");if(a&&a.BannerTypeId){var b="hrblAlert";switch(a.BannerTypeId){case 1:b="hrblAlert";break;case 2:b="hrblAlert general";break;case 3:b="hrblAlert info"}return b}return"hrblAlert"},this.previousAlert=function(){var a=this.get("BannerAlerts"),c=this.get("CurrentIndex");a&&a.length>0&&c>0&&(b--,this.set("CurrentAlert",a[b]))},this.nextAlert=function(){var a=this.get("BannerAlerts"),c=this.get("CurrentIndex");a&&a.length>0&&c<a.length-1&&(b++,this.set("CurrentAlert",a[b]))},this.getCurrentCount=function(a){var c=this.get("BannerAlerts");return b+1+" "+a+" "+c.length},this.getShouldShowBanner=function(a){var b=this.get("BannerAlerts");return!a||a&&b.length<=0},this.getShouldHidePagination=function(){var a=this.get("BannerAlerts");return a.length=1,!0},this.collapseAlert=function(){var a=!this.get("Collapsed");a?(this.set("UpDownClass","down"),this.set("ContainerPadding","15px 5px")):(this.set("UpDownClass","up"),this.set("ContainerPadding","5px")),void 0!==sessionStorage&&sessionStorage.setItem(c,a),this.set("Collapsed",a)},this.CollapseNotification=function(a){if(a&&a.data&&this.get("BannerAlerts")){var b=$(a.currentTarget);if(b){var c=a.data.Id,d=this.GetNotificationIndex(c),e=this.get("BannerAlerts");if(e[d]&&e[d].CanCollapse){var f=$(b).outerHeight()-$(b).height(),g=$(b).children().first().height()+f,h=parseInt($(b).css("line-height").replace("px",""))+f;e[d].HasLink&&(g+=f-2),$(b).animate({height:e[d].IsCollapsed?g:h},150),this.set("BannerAlerts["+d+"].IsCollapsed",!e[d].IsCollapsed),this.set("BannerAlerts["+d+"].CollapseClass",e[d].IsCollapsed?"upDownArrows icon-chevron-down":"upDownArrows icon-chevron-up")}}}},this.GetNotificationIndex=function(a){var b=null;if(this.BannerAlerts&&this.BannerAlerts.length>0){var c=$.map(this.BannerAlerts,function(b,c){if(b.Id===a)return c});b=c}return b};var d=function(){return HL.Cookie.getCookie("HerbalifeUser","Locale")},e=function(){var a=location.pathname.split("/")[1];return null!==a.match(/[A-Za-z]{2}-[A-Za-z]{2}/)&&a},f=function(){var a=location.pathname.trim(),b=new RegExp("^/"+g(),"ig");return a=a.replace(b,""),a=a.replace(/\/(Mb|Ds)\//gi,"/"),a=a.replace(/\/(Mb|Ds)$/gi,"")},g=function(){return e()?e():d()}}var SearchViewModel=function(){var a="icon-magnifier-fl-1",b="icon-delete-ln-3";this.searchText="undefined"!=typeof Catalog&&Catalog.SearchText?Catalog.SearchText:"",this.showSuggestions=!1,this.isActive=!1,this.autoSuggestionsIsHovered=!1,this.isSearchIconHovered=!1,this.active="",this.searchIconClass=a,this.mobileSearch="",this.searchOptions=GlobalSearchConfig.Pages,this.userTypingQuery=function(a){var b=this.get("searchText");return b.length<1?(this.set("showSuggestions",!1),!1):(this.set("showSuggestions",!0),void(13===a.keyCode&&this.onSelectSearchOption(a)))},this.onSelectSearchOption=function(a){var b=this.get("searchText"),c="",d=$(a.currentTarget),e=d.data("hrblSearchUrl");b.length&&(c=e?e:this.get("searchOptions")[0].url,window.location=c+b)},this.addActiveClass=function(){var a=this.get("searchText");this.set("isActive",!0),this.set("active","active"),a.length>3&&this.set("showSuggestions",!0)},this.removeActiveClass=function(){this.get("isSearchIconHovered")&&this.onSelectSearchOption(),this.set("active",""),this.get("autoSuggestionsIsHovered")||(this.set("isActive",!1),this.set("showSuggestions",!1))},this.suggestionsMouseOverState=function(){this.set("autoSuggestionsIsHovered",!0)},this.suggestionsMouseOutState=function(){this.set("autoSuggestionsIsHovered",!1)},this.searchIconMouseOverState=function(){this.set("isSearchIconHovered",!0)},this.searchIconMouseOutState=function(){this.set("isSearchIconHovered",!1)},this.toggleSearch=function(){this.get("searchIconClass")===a?(this.set("searchIconClass",b),this.set("mobileSearch","mobile")):(this.set("searchIconClass",a),this.set("mobileSearch",""))}},MiniProfileViewModel=function(){void 0===kendo.data.binders.css&&(kendo.data.binders.css=kendo.data.Binder.extend({init:function(a,b,c){kendo.data.Binder.fn.init.call(this,a,b,c),this._lookups=[];for(var d in this.bindings.css.path)this._lookups&&this._lookups.push({key:d,path:this.bindings.css.path[d]})},refresh:function(){for(var a,b,c=0;c<this._lookups.length;c++)a=this._lookups[c],this.bindings.css.path=a.path,b=this.bindings.css.get(),b?$(this.element).addClass(a.key):$(this.element).removeClass(a.key)}})),this.load=function(){var a=simpleMediator.attachTo(this);a.subscribe("CloseMiniProfile",this.close)},this.toggleAccount=function(a){a.preventDefault(),a.stopImmediatePropagation(),this.get("activeToggleAccount")?(this.set("activeToggleAccount",!1),this.set("accountDetails",!1),$("body").css("overflow",""),$("body").off("click",this.close)):(simpleMediator.publish("CloseNotificationsPrev"),this.set("activeToggleAccount",!0),this.set("accountDetails",!0),$("body").css("overflow","hidden"),$("body").on("click",this,this.close))},this.close=function(a){var b=a;if(b){if(0!==$(b.target).closest(b.data.obj).length)return!0;b.preventDefault(),b=b.data}else b=this;b.set("activeToggleAccount",!1),b.set("accountDetails",!1),$("body").css("overflow",""),$("body").off("click",b.close)}},NotificationsPrevViewModel=function(a){var b=(a?a:"/")+"notifications/api/v1/Notification/Messages";this.notifications=[],this.path=b+"/Latest?count=10",this.canLoad=!1,this.onBeforeLoad=function(){var a=simpleMediator.attachTo(this);a.subscribe("CloseNotificationsPrev",this.close)},this.dataHandler=function(a){this.set("notifications",a),this.set("isLoaded",!0)},this.onLoadError=function(){this.set("isLoaded",!0),this.set("hasError",!0)},this.isReady=function(){return this.get("isLoaded")&&!this.get("hasError")},this.toggleNotificationsPrev=function(a){a.preventDefault(),a.stopImmediatePropagation(),this.get("activeToggleNotif")?(this.set("activeToggleNotif",!1),this.set("notifDetails",!1),$("body").css("overflow",""),$("body").off("click",this.close)):(this.get("canLoad")||(this.set("canLoad",!0),this.load()),simpleMediator.publish("CloseMiniProfile"),this.set("activeToggleNotif",!0),this.set("notifDetails",!0),$("body").css("overflow","hidden"),$("body").on("click",this,this.close))},this.close=function(a){var b=a;if(b){if(0!==$(b.target).closest(b.data.obj).length)return!0;b.preventDefault(),b=b.data}else b=this;b.set("activeToggleNotif",!1),b.set("notifDetails",!1),$("body").css("overflow",""),$("body").off("click",b.close)},this.onFlag=function(a){a.preventDefault();var c,d,e=this.get("notifications"),f=$(a.currentTarget).parent().data("alert"),g=this.getItemPos(e,f),h=this;g!==!1&&(c=e[g].IsPinned,$("i",a.currentTarget).hide(),$("div",a.currentTarget).show(),d={NotificationMessages:[{Id:f,MessageSource:"ALERTS"}]},$.ajax({url:b+"/Pin",method:"POST",data:JSON.stringify(d),contentType:"application/json; charset=utf-8"}).done(function(){$("i",a.currentTarget).removeClass(),c?$("i",a.currentTarget).addClass("icon-flag-ln-7"):$("i",a.currentTarget).addClass("icon-flag-fl-7"),e[g].IsPinned=!c}).fail(function(){}).always(function(){h.set("notifications",e),$("i",a.currentTarget).show(),$("div",a.currentTarget).hide()}))},this.onArchieve=function(a){a.preventDefault();var c,d,e=this.get("notifications"),f=$(a.currentTarget).parent().data("alert"),g=this.getItemPos(e,f),h=this;g!==!1&&(c=e[g].IsArchived,$("i",a.currentTarget).hide(),$("div",a.currentTarget).show(),d={NotificationMessages:[{Id:f,MessageSource:"ALERTS"}]},$.ajax({url:b+"/Archive",method:"POST",data:JSON.stringify(d),contentType:"application/json; charset=utf-8"}).done(function(){e[g].IsArchived=!c,e.splice(g,1)}).fail(function(){}).always(function(){h.set("notifications",e)}))},this.onRead=function(a){a.preventDefault();var c,d,e=this.get("notifications"),f=$(a.currentTarget).parent().data("alert"),g=this.getItemPos(e,f),h=this;g!==!1&&(c=6!==e[g].Status,$("i",a.currentTarget).hide(),$("div",a.currentTarget).show(),d={NotificationMessages:[{Id:f,MessageSource:"ALERTS"}]},c?$.ajax({url:b+"/Noread",method:"POST",data:JSON.stringify(d),contentType:"application/json; charset=utf-8"}).done(function(){$("i",a.currentTarget).removeClass().addClass("icon-mail-ln-2"),$(a.currentTarget).parent().parent().removeClass("read"),e[g].Status=6}).fail(function(){}).always(function(){h.set("notifications",e),$("i",a.currentTarget).show(),$("div",a.currentTarget).hide()}):$.ajax({url:b+"/Read",method:"POST",data:JSON.stringify(d),contentType:"application/json; charset=utf-8"}).done(function(){$("i",a.currentTarget).removeClass().addClass("icon-mail-read-ln-1"),$(a.currentTarget).parent().parent().addClass("read"),e[g].Status=1}).fail(function(){}).always(function(){h.set("notifications",e),$("i",a.currentTarget).show(),$("div",a.currentTarget).hide()}))},this.onDelete=function(a){a.preventDefault();var c,d=this.get("notifications"),e=$(a.currentTarget).parent().data("alert"),f=this.getItemPos(d,e),g=this;f!==!1&&($("i",a.currentTarget).hide(),$("div",a.currentTarget).show(),c={NotificationMessages:[{Id:e,MessageSource:"ALERTS"}]},$.ajax({url:b+"/",method:"POST",data:JSON.stringify(c),contentType:"application/json; charset=utf-8"}).done(function(){d.splice(f,1)}).fail(function(){$("i",a.currentTarget).show(),$("div",a.currentTarget).hide()}).always(function(){g.set("notifications",d)}))},this.getItemPos=function(a,b){for(var c=0;c<a.length;c++)if(a[c].AlertMessageId===b)return c;return!1}},BannerVolumeViewModel=function(a){this.path=(a?a:"")+"/"+HL.Locale.getLocale()+"/api/Volume/",this.CurrentMonthVolume=null,this.LastMonthVolume=null,this.MonthName="",this.loading=!0,this.onError="",this.dataHandler=function(a,b,c){if(c&&200===c.status&&a&&a.length&&$.isArray(a)){for(var d=0;d<a.length;d++){var e=a[d];this.set("MonthName",e.MonthName),e.IsCurrentMonth?this.set("CurrentMonthVolume",e):this.set("LastMonthVolume",e)}this.set("loading",!1),null==this.get("LastMonthVolume")?this.set("loadSingle",!0):this.set("loadDual",!0)}else this.set("loading",!1),this.set("onError",!0)},this.onLoadError=function(){this.set("loading",!1),this.set("onError",!0)}},CartCountViewModel=function(a){function b(){return"string"==typeof HL.Locale?HL.Locale:HL.Locale.getLocale()}var c,d="undefined"!=typeof _AnalyticsFacts_&&_AnalyticsFacts_&&_AnalyticsFacts_.Scheme?_AnalyticsFacts_.Scheme:"Mb",e="";this.path=(a?a:"/")+b()+"/Shop/Cart/Api/MiniCart/V1?OrderCategory=RSO&BrowseScheme="+d+e,this.cartCount=0,"undefined"!=typeof _AnalyticsFacts_&&"undefined"!=typeof _AnalyticsFacts_.Roles&&("undefined"!=typeof _AnalyticsFacts_.Roles.IndexOf?_AnalyticsFacts_.Roles.indexOf("IsIncomplete")!==-1:_AnalyticsFacts_.Roles.IsIncomplete)&&this.set("canLoad",!1),this.setCartCount=function(){c=simpleMediator.attachTo(this),c.subscribe("updateCartCount",this.updateCartCount)},this.dataHandler=function(a){isNaN(a)||null===a||"undefined"===a||this.set("cartCount",a),this.setCartCount()},this.onLoadError=function(){this.setCartCount()},this.updateCartCount=function(a){this.set("cartCount",a)},this.isVisible=function(){var a=this.get("cartCount");return 0!==a},this.getURLtoShop=function(){if("undefined"!=typeof Shop&&"undefined"!=typeof Shop.PageOrderCategory&&"CS"!==Shop.PageOrderCategory.toUpperCase()){var a=$(this.obj).data("url").split("orderCategory=");return a=a[0]+"orderCategory="+Shop.PageOrderCategory}return $(this.obj).data("url")}},TourUtil=function(){var a=["#mainSideNav","header[role=banner]","#accountDetails"],b={en:["B90BAB4F-AF35-4B9E-A728-0E624A17D972/Web/General/Original/nav-english.gif","886F69E8-2B51-43CA-A4DF-E54A565BCD7F/Web/General/Original/search-english.gif","2042A2DA-4C29-482B-B15F-60D9671BF3A1/Web/General/Original/profile-english.gif","8C09ACE1-82A1-4E88-897A-1A0678D7246F/Web/General/Original/location-english.gif"],es:["A0E4B078-F218-4CE0-A5B1-386BD62BEC36/Web/General/Original/nav-spanish.gif","015BD831-924F-4F3F-A693-B2A2E5D46E8E/Web/General/Original/search-spanish.gif","B4D46CBC-3F36-4CDB-A086-1A778729F703/Web/General/Original/profile-spanish.gif","0EFF8258-08B3-424B-B163-DD1130317B2F/Web/General/Original/location-spanish.gif"],pt:["4545D8BF-4CCE-46C3-9E1B-223A8B6DB54C/Web/General/Original/nav-portuguese.gif","2E45B6FA-B043-4BEA-BEAA-86A8913848D1/Web/General/Original/search-portuguese.gif","42C1EBDD-B83A-44AA-8997-4DB4077A3689/Web/General/Original/profile-portuguese.gif","9B146459-26C5-409E-8550-07031D39FC3D/Web/General/Original/location-portuguese.gif"]},c=[],d={},e={},f=function(a){d={improvedNavigation:{element:"#mainSideNav",title:Resources["Step_1_Title_"+a],content:Resources["Step_1_Text_"+a],placement:"right",backdrop:!0,backdropContainer:"body",backdropPadding:5,onShow:function(){$(window).width()<1500&&($(".cd-dropdown").addClass("dropdown-is-active"),$("#mainSideNav").width()<240&&$("#mainSideNav").css("width","240px")),$("#mainSideNav").children().css("pointer-events","none"),$("body").addClass("stop-scroll"),i()},onShown:function(){h("#mainSideNav"),$("div.popover-navigation div.btn-tour-group button[data-role=prev]").css("display","none"),$("div.popover").css("top","130px"),l()},onHide:function(){$("#mainSideNav").children().css("pointer-events","auto"),$(window).width()<1500&&($(".cd-dropdown").removeClass("dropdown-is-active"),$("#mainSideNav").width()>48&&$("#mainSideNav").css("width","")),$("div.popover-navigation div.btn-tour-group button[data-role=prev]").removeAttr("style")}},smarterSearch:{element:"#step-search",title:Resources["Step_2_Title_"+a],content:Resources["Step_2_Text_"+a],placement:"bottom",backdrop:!0,backdropContainer:"body",backdropPadding:5,onShow:function(){$("header[role=banner]").children().css("pointer-events","none"),$("body").addClass("stop-scroll")},onShown:function(){h("header[role=banner]"),l()},onHide:function(){$("header[role=banner]").children().css("pointer-events","auto")},onPrev:function(){i(),$("header[role=banner]").children().css("pointer-events","auto")},onNext:function(){i(),$("header[role=banner]").removeAttr("style")}},shortcuts:{element:"#icon-account",title:Resources["Step_3_Title_"+a],content:Resources["Step_3_Text_"+a],placement:"left",backdrop:!0,backdropContainer:"body",backdropPadding:5,onShown:function(){h("header[role=banner]"),$("body").addClass("stop-scroll"),$("header[role=banner]").children().css("pointer-events","none"),l()},onNext:function(){i()},onPrev:function(){i(),$("header[role=banner]").removeAttr("style")},onHide:function(){$("body").removeClass("stop-scroll")}},newAccountMenu:{element:"#accountDetails",title:Resources["Step_4_Title_"+a],content:Resources["Step_4_Text_"+a],placement:"left",backdrop:!0,backdropContainer:"body",backdropPadding:5,onShow:function(){$("body").css("overflow","hidden"),$("#accountToggle").addClass("active-style"),$("#accountDetails").addClass("active"),$("body").addClass("stop-scroll"),$(".my-account").addClass("active"),$("#accountDetails").children().css("pointer-events","none"),i()},onShown:function(){h("#accountDetails"),l()},onHide:function(){$("#accountDetails").children().css("pointer-events","auto"),$("#accountDetails").removeClass("active"),$("#accountToggle").removeClass("active-style"),$("body").removeAttr("style"),$("body").removeClass("stop-scroll")}},regionSelector:{element:"div#region-selector a",title:Resources["Step_5_Title_"+a],content:Resources["Step_5_Text_"+a],placement:"top",backdrop:!0,backdropContainer:"body",backdropPadding:5,onShow:function(){i(),$("div#region-selector").css("pointer-events","none"),$("body").addClass("stop-scroll")},onShown:function(){h("div#region-selector"),l()},onHide:function(){$("div#region-selector").css("pointer-events","auto"),$("body").removeClass("stop-scroll")}}}},g=function(a){c=[];var d=HL.Locale.getLocale().split("-")[0],f="undefined"===b[d]?b.en:b[d];f.forEach(function(a){var b=new Image;b.src="//edge.myherbalife.com/vmba/media/"+a,c.push(b)});var g=function(a){var b=0;return{next:function(){return b<a.length?{value:a[b++],done:!1}:{done:!0}}}}(c);e={step1:{orphan:!0,backdrop:!0,backdropContainer:"body",backdropPadding:5,onShown:function(){$("div.popover-navigation div.btn-tour-group button[data-role=prev]").css("display","none"),h(),l(),j()},onHide:function(){$("div.popover-navigation div.btn-tour-group button[data-role=prev]").removeAttr("style")},title:g.next().value.outerHTML+Resources["Mobile_Step_1_Title_"+a],content:Resources["Mobile_Step_1_Text_"+a]},step2:{orphan:!0,backdrop:!0,backdropContainer:"body",backdropPadding:5,onShown:function(){h(),l(),j()},title:g.next().value.outerHTML+Resources["Mobile_Step_2_Title_"+a],content:Resources["Mobile_Step_2_Text_"+a]},step3:{orphan:!0,backdrop:!0,backdropContainer:"body",backdropPadding:5,onShown:function(){h(),l(),j()},title:g.next().value.outerHTML+Resources["Mobile_Step_3_Title_"+a],content:Resources["Mobile_Step_3_Text_"+a]},step4:{orphan:!0,backdrop:!0,backdropContainer:"body",backdropPadding:5,onShown:function(){h(),l(),j()},title:g.next().value.outerHTML+Resources["Mobile_Step_4_Title_"+a],content:Resources["Mobile_Step_4_Text_"+a]}}},h=function(b){k();var c=1e4;null!==b&&(c=parseInt($(b).css("z-index"))),isNaN(c)||($("div[role=tooltip]").css("z-index",String(c+1)),$(".tour-backdrop").css("z-index",String(c-1)),a.forEach(function(a){b!==a&&$(a).css("z-index",String(c-1))}))},i=function(b){var c=500;null===b&&a.forEach(function(a){null!==b&&b===a||$(a).css("z-index",String(c-1))})},j=function(){$(".popover").css("top","10px")},k=function(){$(".popover-navigation button").css("padding","7px 15px"),$(".popover-navigation button").css("height","35px"),$(".popover-navigation.btn-tour-group button").css("width","70px"),$(".popover-navigation.btn button").css("width","100px"),$(".popover-navigation .btn-tour-group .btnForward").css("margin-left","10px")},l=function(){$("div.popover-navigation div.btn-tour-group button[data-role=next]").hasClass("disabled")&&($(".popover-navigation [data-role=next]").hide(),$(".popover-navigation [data-role=end]").attr("class","forward"),$("div.popover-navigation div.btn-tour-group").css("float","left"),$("div.popover-navigation button[data-role=end").css("float","right"))},m=function(){return[d.improvedNavigation,d.smarterSearch,d.shortcuts,d.newAccountMenu,d.regionSelector]},n=function(){return[e.step1,e.step2,e.step3,e.step4]};return{DesktopSteps:m,MobileSteps:n,desktopInit:f,mobileInit:g}}(),loadTour=function(){var a=function(){return HL.Util.Browser.isMobile.any()},b=function(){return HL.Util.Browser.dimensions.Width()<1e3},c="undefined"!=typeof _AnalyticsFacts_&&_AnalyticsFacts_&&_AnalyticsFacts_.Scheme?_AnalyticsFacts_.Scheme:"Mb";a()||b()?TourUtil.mobileInit(c):TourUtil.desktopInit(c);var d=new Tour({autoscroll:!0,keyboard:!0,animation:!0,storage:!1,orphan:!1,smartPlacement:!0,template:'<div class="popover" role="tooltip"> <div class="arrow"></div> <h3 class="popover-title"></h3> <div class="popover-content"></div> <div class="popover-navigation"><button class="btn" data-role="end">'+Resources.end_tour_button+'</button> <div class="btn-tour-group"> <button class="btn" data-role="prev">&laquo; '+Resources.prev_button+'</button> <button class="btnForward" data-role="next">'+Resources.next_button+' &raquo;</button> <button class="btn" data-role="pause-resume" data-pause-text="Pause" data-resume-text="Resume">Pause</button> </div> </div> </div>',onEnd:function(){if($(window).width()<1500&&$(".cd-dropdown").removeClass("dropdown-is-active"),$(".my-account").removeClass("active"),$("#mainSideNav").removeAttr("style").children().css("pointer-events",""),$("header[role=banner]").removeAttr("style").children().css("pointer-events",""),$("#accountDetails").removeAttr("style").children().css("pointer-events",""),$("div#region-selector a").removeAttr("style").children().css("pointer-events",""),0!==$("#modalNotif").length){var a=$("#modalNotif")[0].kendoBindingTarget.source;"undefined"!==a.content&&a.onDismissIndefinite()}},steps:a()||b()?TourUtil.MobileSteps():TourUtil.DesktopSteps()});d.init(),d.restart()},takeTour=function(){"undefined"==typeof Tour?loadTourScript("/Navigation/Scripts/vendor/bootstrap-tour-standalone.min.js",loadTour):loadTour()},volumeTrackerViewModel=function(){this.isVisible=!1,this.progress=1,this.isThree=!1,this.path="/"+HL.Locale.getLocale()+"/account/points/ChartData",this.onBeforeLoad=function(){this.set("isloading",!0),this.set("isVisible",!0)},this.dataHandler=function(a){if(null!==a){var b=this.get("volumeTrackerDiv"),c="",d=a.TotalLevels;switch(a.CurrentLevel.toLowerCase()){case"":case"bronze":c=1,this.set("isBronze",!0);break;case"silver":c=2,this.set("isSilver",!0);break;case"gold":c=3,this.set("isGold",!0);break;default:this.set("isPlatinum",!0),c=4}$(b).kendoProgressBar({type:"chunk",chunkCount:d,min:0,max:d,value:c}),this.set("isloading",!1),d<4&&this.set("hasThree",!0)}},this.onLoadError=function(a,b,c){this.set("isVisible",!1),logger.log("Something went wront with Volume tracker. Error: "+c)},this.goAccount=function(){window.location="/"+HL.Locale.getLocale()+"/Account/mb/Points"}},DocumentedVolumeViewModel=function(){this.path="/"+HL.Locale.getLocale()+"/Account/VolumeInquiry/GetVolumeData",this.volumeData=null,this.purchasedChartVisible=!1,this.documentedChartVisible=!1,this.royaltyChartVisible=!1,this.purchasedChartError=!1,this.documentedChartError=!1,this.royaltyChartError=!1,this.loaderIsVisible=!0,this.messageIsVisible=!0,this.dataHandler=function(a){"object"==typeof a&&a.length>0?this.set("volumeData",a[0]):this.hideWidget()},this.onAfterLoad=function(){var a=this.get("volumeData"),b=0,c=!1;if(null!==a){var d=this.getVolumeData(a);b=d.emptyChart,c=d.hasValues,this.setDocumentedVsNonDocumented(b),this.set("royaltyValues",[{category:"Accumulated Points",value:this.percentage,color:"#2ebfc2"},{category:"Remaining Points",value:5-this.percentage,color:"#999999"}]),this.set("percentageText",kendo.toString(this.percentage,"#\\%")),c?this.set("purchasedChartVisible",!0):this.set("purchasedChartError",!0),this.set("documentedChartVisible",!0),this.set("royaltyChartVisible",!0),this.set("loaderIsVisible",!1)}else this.hideWidget()},this.getVolumeData=function(a){var b=this,c=[],d=0,e=!1,f={};return a.VolumePoints.forEach(function(a){"PPV"!==a.Type&&"DLV"!==a.Type&&"PV"!==a.Type&&"GV"!==a.Type&&"TV"!==a.Type||(f={volumeType:a.Type,pv:a.Value},f.dv=null!==a.RsVolumePoints?b.setVolumeSpecification(a,a.RsVolumePoints,f):0,0===f.pv&&0===f.dv||(e=!0),c.push(f)),"RP"===a.Type&&null!==a.Value&&b.set("percentage",a.Value)}),0===b.documentedVolume&&0===b.nonDocumentedVolume?d=1:(d=0,b.set("messageIsVisible",!1)),this.set("generalVolumes",c),{emptyChart:d,hasValues:e}},this.setDocumentedVsNonDocumented=function(a){if(a)this.get("pieChart")&&(this.get("pieChart").options.series[0].labels.visible=!1),this.set("documentedValues",[{category:"No volume",value:a,color:"#999999"}]);else{var b=(this.documentedVolume>0?this.documentedVolume:0)+(this.nonDocumentedVolume>0?this.nonDocumentedVolume:0),c=[],d=kendo.format("{0:P}",(this.documentedVolume>0?this.documentedVolume:0)/b).replace("%",""),e=kendo.format("{0:P}",(this.nonDocumentedVolume>0?this.nonDocumentedVolume:0)/b).replace("%","");d>0&&c.push({category:"Documented Volume Points",value:d,color:"#7ac143"}),e>0&&c.push({category:"Non-Documented Volume Points",value:e,color:"#ff7676"}),this.set("documentedValues",c)}this.set("documentedVolumeText",kendo.toString(this.documentedVolume,"n")),this.set("nonDocumentedVolumeText",kendo.toString(this.nonDocumentedVolume,"n"))},this.setVolumeSpecification=function(a,b,c){var d=this;return b.forEach(function(a){"cDV"===a.Type&&(c.dv=a.Value)}),"TV"===a.Type&&b.forEach(function(a){"cDV"===a.Type?d.set("documentedVolume",a.Value):"cNDV"===a.Type&&d.set("nonDocumentedVolume",a.Value)}),c.dv},this.onLoadError=function(){this.hideWidget()},this.hideWidget=function(){this.set("purchasedChartError",!0),this.set("documentedChartError",!0),this.set("royaltyChartError",!0),this.set("loaderIsVisible",!1)}};!function(){function a(a,b,c){return"undefined"==typeof c||0===+c?Math[a](b):(b=+b,c=+c,isNaN(b)||"number"!=typeof c||c%1!==0?NaN:(b=b.toString().split("e"),b=Math[a](+(b[0]+"e"+(b[1]?+b[1]-c:-c))),b=b.toString().split("e"),+(b[0]+"e"+(b[1]?+b[1]+c:c))))}Math.round10||(Math.round10=function(b,c){return a("round",b,c)}),Math.floor10||(Math.floor10=function(b,c){return a("floor",b,c)}),Math.ceil10||(Math.ceil10=function(b,c){return a("ceil",b,c)})}();
//# sourceMappingURL=header.min.js.map